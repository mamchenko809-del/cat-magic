<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–æ—Ç–æ—Ñ–∞–∫—Ç ‚Äî –º–∞–≥–∏—è —Ö–≤–æ—Å—Ç–∞—Ç—ã—Ö</title>

  <!-- –®—Ä–∏—Ñ—Ç—ã -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;600&family=Marcellus&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root{
      /* BACKGROUND */
      --bg-1: #0A1A25; --bg-2: #0F2430; --bg-3: #020617;
      /* SURFACES */
      --surf-1: #0a121f; --surf-2: #1e5fbe; --surf-over: rgba(0,0,0,0.35);
      /* ACCENTS / GLOW */
      --acc-1: #7EF0FF; --acc-2: #A6FFEA; --acc-3: #D2C7FF; --acc-4: #7CC5FF;
      /* TEXT */
      --txt-1: #E5F6FF; --txt-2: #CFEAFF; --txt-3: #A2C2D1;
      /* BUTTON */
      --btn-grad-start: #1BB4A2; --btn-grad-end:#7EF0FF; --btn-stroke:#A6FFEA; --btn-glow:#7EF0FF;

      --radius-lg: 26px; --radius-md: 18px; --shadow-deep: 0 30px 80px rgba(0,0,0,.55);
    }

    html, body { height: 100%; }
    body{
      margin: 0; color: var(--txt-1);
      font-family: Marcellus, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      display: grid; place-items: center; overflow: hidden;
      background:
        /* –ë–æ–ª—å—à–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è ¬´–∞—É—Ä–∞¬ª */
        radial-gradient(
          circle at center,
          rgba(126,240,255,0.25) 0%,
          rgba(124,197,255,0.12) 25%,
          rgba(0,0,0,0.0) 95%
        ),

        /* –í—Ç–æ—Ä–∞—è, —á—É—Ç—å —Ç–µ–º–Ω–µ–µ ‚Äî —Å–æ–∑–¥–∞—ë—Ç –≥–ª—É–±–∏–Ω—É */
        radial-gradient(
          circle at center,
          rgba(210,199,255,0.20) 0%,
          rgba(0,0,0,0.0) 80%
        ),

        /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω */
        linear-gradient(
          180deg,
          var(--bg-2) 0%,
          var(--bg-1) 10%,
          var(--bg-3) 100%
        );
    }
    /* 1) –ë–∞–∑–∞: —Ñ–∏–∫—Å–∏—Ä—É–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ—ë–≤ */
body { position: relative; z-index: 0; }
.card { position: relative; z-index: 2; }  /* –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ö –∑–≤—ë–∑–¥ */
.wrap { position: relative; z-index: 2; }

/* 2) –ó–≤—ë–∑–¥–Ω–æ–µ –Ω–µ–±–æ (–º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –∑–≤—ë–∑–¥, —Ç–∞–π–ª–æ–≤—ã–π SVG) */
body::before,
body::after {
  content: "";
  position: fixed;
  inset: -10%;
  pointer-events: none;
}

/* ‚≠ê –û—Å–Ω–æ–≤–Ω–æ–π —Å–ª–æ–π –∑–≤—ë–∑–¥ */
body::before {
  z-index: 1;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240' viewBox='0 0 240 240'><rect width='240' height='240' fill='none'/><circle cx='20' cy='30' r='1.5' fill='white' fill-opacity='0.60'/><circle cx='60' cy='80' r='0.8' fill='white' fill-opacity='0.45'/><circle cx='110' cy='50' r='0.7' fill='white' fill-opacity='0.40'/><circle cx='180' cy='90' r='0.9' fill='white' fill-opacity='0.55'/><circle cx='210' cy='40' r='0.7' fill='white' fill-opacity='0.45'/><circle cx='30' cy='150' r='0.8' fill='white' fill-opacity='0.50'/><circle cx='95' cy='135' r='0.7' fill='white' fill-opacity='0.42'/><circle cx='150' cy='160' r='0.9' fill='white' fill-opacity='0.50'/><circle cx='200' cy='180' r='0.8' fill='white' fill-opacity='0.46'/><circle cx='70' cy='200' r='0.7' fill='white' fill-opacity='0.44'/><circle cx='40' cy='110' r='1.2' fill='%237EF0FF' fill-opacity='0.35'/><circle cx='160' cy='40' r='1.1' fill='%23A6FFEA' fill-opacity='0.30'/><circle cx='120' cy='200' r='1.2' fill='%237CC5FF' fill-opacity='0.30'/></svg>");
  background-size: 240px 240px;      /* –º–µ–Ω—å—à–µ ‚Äî –±–æ–ª—å—à–µ –∑–≤—ë–∑–¥; –±–æ–ª—å—à–µ ‚Äî —Ä–µ–∂–µ */
  background-repeat: repeat;
  mix-blend-mode: screen;            /* –∑–≤—ë–∑–¥—ã ¬´–ø–æ–¥—Å–≤–µ—Ç—è—Ç¬ª —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω */
  opacity: 0.75;                     /* –æ–±—â–∞—è —è—Ä–∫–æ—Å—Ç—å –∑–≤—ë–∑–¥ */
  animation: star-drift 40s linear infinite, twinkle 3s ease-in-out infinite alternate;
  will-change: transform, opacity;
}


/* üå´ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º—è–≥–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ/–¥—ã–º–∫–∞ (–∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ) */
body::after {
  z-index: 0;
  background:
    radial-gradient(600px 320px at 10% 90%, rgba(126,240,255,.10), transparent 60%),
    radial-gradient(700px 340px at 90% 10%, rgba(166,255,234,.10), transparent 60%),
    radial-gradient(800px 380px at 50% 50%, rgba(210,199,255,.07), transparent 60%);
  mix-blend-mode: screen;
  opacity: .6;
  animation: glow-pan 40s linear infinite alternate;
}

/* üåÄ –î–≤–∏–∂–µ–Ω–∏–µ –∑–≤—ë–∑–¥ (–º–µ–¥–ª–µ–Ω–Ω—ã–π –¥—Ä–µ–π—Ñ) */
@keyframes star-drift {
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(-6%, 4%, 0); } /* –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ ¬´–¥–∞–ª—å–Ω–æ—Å—Ç—å¬ª */
}

/* ‚ú® –õ—ë–≥–∫–æ–µ –º–µ—Ä—Ü–∞–Ω–∏–µ –≤—Å–µ–π ¬´–ø—Ä–æ—Å—Ç—ã–Ω–∏¬ª –∑–≤—ë–∑–¥ */
@keyframes twinkle {
  0%   { opacity: 0.48; }
  50%  { opacity: 0.82; }
  100% { opacity: 0.48; }
}

/* (–æ—Å—Ç–∞–≤—å —Å–≤–æ–∏ dust / glow-pan, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å ‚Äî –æ–Ω–∏ –Ω–µ –º–µ—à–∞—é—Ç) */

    body::after{
      background:
        radial-gradient(600px 320px at 10% 90%, rgba(126,240,255,.10), transparent 20%),
        radial-gradient(700px 340px at 90% 10%, rgba(166,255,234,.10), transparent 0%),
        radial-gradient(800px 380px at 50% 50%, rgba(210,199,255,.07), transparent 60%);
      mix-blend-mode: screen; opacity:.8; animation: glow-pan 40s linear infinite alternate;
    }
    @keyframes dust { to{ transform: translate3d(4%, -4%, 0); } }
    @keyframes glow-pan { to{ transform: translate3d(-2%, 2%, 0); } }

    .wrap{ width:min(92vw,900px); }
    .card{
      width:min(92vw,820px);
      background: linear-gradient(180deg, rgba(26,37,53,0.8), rgba(13,18,26,0.92)), var(--surf-over);
      border: 1px solid rgba(166,255,234,0.20);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-deep);
      backdrop-filter: blur(6px);
      padding: clamp(20px,3.8vw,36px);
      position: relative; overflow: hidden;
    }
    .card::before{
      content:""; position:absolute; inset: -2px; padding: 4px;
      border-radius: calc(var(--radius-lg) + 2px);
      background:
        radial-gradient(120% 160% at 0% 0%, rgba(211, 241, 245, 0.24), transparent 60%),
        radial-gradient(120% 160% at 100% 100%, rgba(171, 211, 245, 0.5), transparent 60%);
      mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      pointer-events:none;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –ª—ë–≥–∫–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å–≤–µ—á–µ–Ω–∏—è */
@keyframes card-glow {
  from { opacity: 0.55; }
  to   { opacity: 0.88; }
}

/* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É */
.card:hover {
  box-shadow:
    0 35px 90px rgba(0,0,0,.55),     /* —á—É—Ç—å –≥–ª—É–±–∂–µ —Ç–µ–Ω—å */
    0 0 25px rgba(126,240,255,.18);  /* –ª—ë–≥–∫–∞—è –≥–æ–ª—É–±–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ */
  transform: translateY(-4px);       /* —á—É—Ç—å –ø—Ä–∏–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è */
  transition: all 0.4s ease;
}

/* –£—Å–∏–ª–µ–Ω–∏–µ —Ä–∞–º–∫–∏ –ø—Ä–∏ —Ö–æ–≤–µ—Ä–µ */
.card:hover::before {
  padding: 3px;   /* —Ä–∞–º–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—â–µ */
  opacity: 0.85;  /* —è—Ä—á–µ */
  animation: card-glow 1.8s ease-in-out infinite alternate;
  transition: all 0.4s ease;
}

    .title{
      font-family: Cinzel, serif; text-transform: uppercase; letter-spacing: .14em; font-weight: 600;
      font-size: clamp(24px, 4.2vw, 38px); text-align: center; color: var(--txt-1);
      margin: 0 0 .3rem 0; text-shadow: 0 0 24px rgba(124,197,255,.35);
    }
    .title-accent{
      font-family: "Great Vibes", cursive; font-size: clamp(18px, 3.1vw, 28px);
      text-align: center; margin: -.25rem 0 1rem 0; color: var(--txt-2); opacity: .9;
    }
    .hint{ text-align:center; color: var(--txt-3); font-size: clamp(14px, 1.8vw, 17px); margin: 0 0 1.1rem 0; }

    .fact{
      border: 1px solid rgba(166,255,234,0.25); border-radius: var(--radius-md);
      padding: clamp(14px, 2.2vw, 18px);
      background:
        radial-gradient(100% 100% at 0% 0%, rgba(124,197,255,.10), transparent 70%),
        radial-gradient(120% 120% at 100% 100%, rgba(126,240,255,.08), transparent 60%),
        linear-gradient(180deg, rgba(26,37,53,.65), rgba(13,18,26,.85));
      box-shadow: inset 0 0 32px rgba(0,0,0,.55);
      position: relative;
    }
    .fact-caption{ text-transform: uppercase; letter-spacing: .18em; font-size: 12px; color: var(--txt-3); margin: 0 0 .35rem 0; text-align: left; }
    .fact-line{ margin:.35rem 0; line-height:1.6; color: var(--txt-1); font-size: clamp(14px, 2vw, 18px); }
    .fact-line.ru{ color: var(--txt-2); }
    .visually-hidden{ position:absolute; width:1px; height:1px; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); clip-path:inset(50%); }

    .error{ color:#ffb3b3; }

    .photo {
  margin: 1rem 0 .5rem;
  border: 1px solid rgba(166,255,234,.20);
  border-radius: var(--radius-md);
  overflow: hidden;
  background: linear-gradient(180deg, rgba(26,37,53,.5), rgba(13,18,26,.8));
  box-shadow: 0 10px 40px rgba(0,0,0,.45), 0 0 22px rgba(126,240,255,.25);
  position: relative;

  /* üí´ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ */
  max-height: 260px;        /* –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –µ—â—ë –º–µ–Ω—å—à–µ/–±–æ–ª—å—à–µ */

  /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —à–∏—Ä–∏–Ω—É –∫–∞—Ä—Ç–æ—á–∫–∏ */
  width: 100%;
}

.photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  opacity: 0;
  transition: transform .6s ease, opacity .35s ease;
}

.btn{
  margin: 1rem auto 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap:.55rem;

  padding: 14px 28px;
  border-radius: 999px;
  border: 1px solid var(--btn-stroke);

  background: linear-gradient(135deg, var(--btn-grad-start), var(--btn-grad-end));
  color: #081317;
  font-weight: 700;
  letter-spacing: .06em;
  text-transform: uppercase;
  cursor: pointer;
  position: relative;
  overflow: visible;

  box-shadow: 
    0 14px 40px rgba(0,0,0,.45),
    0 0 26px rgba(126,240,255,0.55);

  transition: 
    transform .2s ease,
    box-shadow .2s ease,
    filter .2s ease,
    opacity .2s ease;
}

/* --- –ò–°–ö–†–´ –≤–æ–∫—Ä—É–≥ –∫–Ω–æ–ø–∫–∏ --- */
.btn::before,
.btn::after{
  content: "";
  position: absolute;
  width: 140%;
  height: 140%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  border-radius: 50%;
}

/* –ü–ï–†–í–´–ô —Å–ª–æ–π –∏—Å–∫—Ä ‚Äî –º—è–≥–∫–∏–µ —Å–≤–µ—Ç–æ–≤—ã–µ –∑–µ—Ä–Ω–∞ */
.btn::before{
  background: radial-gradient(circle, rgba(126,240,255,.25) 0%, transparent 60%);
  filter: blur(18px);
  opacity: .35;
  animation: spark-rotate 8s linear infinite;
}

/* –í–¢–û–†–û–ô —Å–ª–æ–π ‚Äî —è—Ä–∫–∏–µ –º–µ–ª–∫–∏–µ –∏—Å–∫—Ä—ã */
.btn::after{
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.8) 60%, transparent 100%),
    radial-gradient(2px 2px at 70% 80%, rgba(126,240,255,.9) 60%, transparent 100%),
    radial-gradient(1.6px 1.6px at 40% 70%, rgba(166,255,234,.9) 60%, transparent 100%),
    radial-gradient(1.4px 1.4px at 80% 40%, rgba(210,199,255,.9) 60%, transparent 100%);
  opacity: .65;
  animation: spark-twinkle 2.6s ease-in-out infinite alternate;
}

/* --- –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç: –∫–Ω–æ–ø–∫–∞ ‚Äú–≤—Å–ø—ã—Ö–∏–≤–∞–µ—Ç‚Äù, –∏—Å–∫—Ä—ã —É—Å–∏–ª–∏–≤–∞—é—Ç—Å—è --- */
.btn:hover{
  transform: translateY(-2px) scale(1.04);
  box-shadow:
    0 20px 55px rgba(0,0,0,.65),
    0 0 40px rgba(126,240,255,.7);
  filter: saturate(1.1);
}

.btn:hover::before{
  opacity: .55;
  filter: blur(22px);
}

.btn:hover::after{
  opacity: .9;
}

/* –ö–ª–∏–∫ ‚Äî –º—è–≥–∫–æ–µ —Å–∂–∞—Ç–∏–µ */
.btn:active{
  transform: translateY(1px) scale(.97);
  opacity:.92;
}

/* --- –ê–Ω–∏–º–∞—Ü–∏–∏ –∏—Å–∫—Ä --- */
@keyframes spark-rotate{
  from{ transform: translate(-50%, -50%) rotate(0deg); }
  to{   transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spark-twinkle{
  from{ opacity: .4; transform: scale(1); }
  to{   opacity: .9; transform: scale(1.08); }
}

    @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.03)} 100%{transform:scale(1)} }
    .btn.loading{ animation: pulse .9s ease-in-out infinite; }

    @keyframes shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
    .shimmer{
      background: linear-gradient(90deg, rgba(197,222,255,.2), rgba(229,246,255,.92), rgba(197,222,255,.2));
      background-size: 200% 100%; -webkit-background-clip: text; background-clip: text; color: transparent;
      animation: shimmer 1.6s infinite;
    }

    @media (max-width: 600px){
      .card{ padding: 22px 18px 26px; }
      .title{ font-size: 26px; }
      .btn{ width: 100%; justify-content:center; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <section class="card" aria-live="polite">
      <h1 class="title">üò∫ –ö–æ—Ç–æ—Ñ–∞–∫—Ç</h1>
      <div class="title-accent">—à—ë–ø–æ—Ç —Ö–≤–æ—Å—Ç–∞—Ç—ã—Ö —à–∞–º–∞–Ω–æ–≤</div>
      <p class="hint">–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏ –º—É–¥—Ä—ã–µ –∫–æ—Ç—ã –ø–æ—à–µ–ø—á—É—Ç —Å–µ–∫—Ä–µ—Ç –∏–∑ –ø—É—à–∏—Å—Ç–æ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π.</p>

      <div class="fact" id="factBox">
        <div class="fact-caption">–æ—Ä–¥–µ–Ω —Ö–≤–æ—Å—Ç–∞—Ç–æ–π –º—É–¥—Ä–æ—Å—Ç–∏ —Å–æ–æ–±—â–∞–µ—Ç</div>
        <!-- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–µ—Ä–∂–∏–º —Å–∫—Ä—ã—Ç—ã–º –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏/—Ä–µ–∑–µ—Ä–≤–∞ -->
        <p id="factEn" class="fact-line visually-hidden" aria-hidden="true"></p>
        <p id="factRu" class="fact-line ru">–ü–æ–∫–∞ —Ç–∏—à–∏–Ω–∞. –î–∞–π –∑–Ω–∞–∫ –∏ –∑–≤—ë–∑–¥–Ω–∞—è –ø—ã–ª—å —Å–ª–æ–∂–∏—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é üêæ</p>
      </div>

      <figure class="photo">
  <img id="catPhoto" alt="–ú—É–¥—Ä—ã–π –∫–æ—Ç –≤ –º–æ–º–µ–Ω—Ç –æ—Ç–∫—Ä–æ–≤–µ–Ω–∏—è" />
  <figcaption class="photo-cap">—Å–Ω–∏–º–æ–∫ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –∫–æ—Ç–æ—à—Ç–∞–±–∞</figcaption>
</figure>

      <button id="btn" class="btn" type="button" aria-controls="factBox" aria-busy="false">
        ‚ú® –î–∞–π –∫–æ—Ç–æ—à—ë–ø–æ—Ç
      </button>
    </section>
  </div>

  <script>
    const btn = document.getElementById('btn');
    const factEn = document.getElementById('factEn');   // —Ä–µ–∑–µ—Ä–≤ (—Å–∫—Ä—ã—Ç)
    const factRu = document.getElementById('factRu');   // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ–≥–¥–∞

    // 1) –ì–ª–æ–±–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ñ–æ—Ç–æ
let PHOTO_URLS = [];

// 2) –ü–æ–¥—Ç—è–≥–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
(async function loadPhotoList(){
  try{
    // –ü—É—Ç—å –∫ —Ç–≤–æ–µ–º—É photos.json (–∏–∑ —Ç–æ–≥–æ –∂–µ –¥–æ–º–µ–Ω–∞, —á—Ç–æ–±—ã CORS –Ω–µ –º–µ—à–∞–ª)
    const res = await fetch('./photos.json', { cache: 'no-store' });
    if(!res.ok) throw new Error('photo list not found');
    PHOTO_URLS = await res.json();
  }catch(e){
    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ:', e);
    PHOTO_URLS = []; // –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø–∞—Å–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–ª–∏ –Ω–∏—á–µ–≥–æ
  }
})();

// 3) –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é
function showRandomPhoto(){
  const img = document.getElementById('catPhoto');
  if(!img) return;

  if(!Array.isArray(PHOTO_URLS) || PHOTO_URLS.length === 0){
    // –ù–∏—á–µ–≥–æ –Ω–µ –≥—Ä—É–∑–∏–º ‚Äî —Å–ø–æ–∫–æ–π–Ω–æ –≤—ã—Ö–æ–¥–∏–º
    img.removeAttribute('src');
    img.classList.remove('loaded');
    return;
  }

  const url = PHOTO_URLS[Math.floor(Math.random() * PHOTO_URLS.length)];

  // –ü–ª–∞–≤–Ω–∞—è —Å–º–µ–Ω–∞: —Å–Ω–∏–º–∞–µ–º –∫–ª–∞—Å—Å loaded, –∂–¥—ë–º –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–π
  img.classList.remove('loaded');
  const tmp = new Image();
  tmp.onload = () => {
    img.src = url;
    // –º–∞–ª–µ–Ω—å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏, –∑–∞—Ç–µ–º ¬´–ø—Ä–æ—è–≤–ª—è–µ–º¬ª
    requestAnimationFrame(() => img.classList.add('loaded'));
  };
  tmp.onerror = () => {
    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ:', url);
    // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –º–µ–Ω—è—Ç—å —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
  };
  tmp.src = url;
}

// 4) –í—Å—Ç–∞–≤–ª—è–µ–º –≤—ã–∑–æ–≤ –≤ —Ç–≤–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ ‚Äî –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
// –ù–∞–π–¥–∏ –º–µ—Å—Ç–æ, –≥–¥–µ —Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç (factRu.textContent = ru;)
/// –ò –¥–æ–±–∞–≤—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ:
/// showRandomPhoto();

// –ü—Ä–∏–º–µ—Ä –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:
async function getCatFactInRussian(){
  // ... –∫–∞–∫ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å ...
  try{
    const res = await fetch('https://catfact.ninja/fact', { cache: "no-store" });
    if(!res.ok) throw new Error("API down");
    const data = await res.json();
    const fact = data.fact || "";

    try{
      const ru = await translateToRussian(fact);
      factRu.classList.remove('shimmer');
      factRu.textContent = ru;
      factEn.textContent = fact;
      showRandomPhoto();                   // ‚Üê –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–∫–∞–∑ —Ñ–æ—Ç–æ –∑–¥–µ—Å—å
    }catch(trErr){
      factRu.classList.remove('shimmer');
      factRu.classList.add('error');
      factRu.textContent = "–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –≤–æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª: " + fact;
      showRandomPhoto();                   // ‚Üê –∏ —Ç—É—Ç —Ç–æ–∂–µ –º–æ–∂–Ω–æ
    }

  }catch(e){
    factRu.classList.remove('shimmer');
    factRu.classList.add('error');
    factRu.textContent = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–∫—Ç.";
    // –º–æ–∂–Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–æ—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ñ–∞–∫—Ç–∞ ‚Äî –Ω–∞ —Ç–≤–æ–π –≤—ã–±–æ—Ä
  }finally{
    btn.disabled = false;
    btn.classList.remove('loading');
    btn.setAttribute('aria-busy','false');
  }
}
    // –†–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ MyMemory (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞)
    async function translateToRussian(text) {
      const url = "https://api.mymemory.translated.net/get?q=" 
                  + encodeURIComponent(text) 
                  + "&langpair=en|ru";
      const response = await fetch(url);
      const data = await response.json();
      if (data?.responseData?.translatedText) return data.responseData.translatedText;
      throw new Error("No translatedText");
    }

    async function getCatFactInRussian(){
      btn.disabled = true;
      btn.classList.add('loading');
      btn.setAttribute('aria-busy','true');

      // –®–∏–º–µ—Ä —Å—Ä–∞–∑—É –Ω–∞ —Ä—É—Å—Å–∫–æ–π —Å—Ç—Ä–æ–∫–µ ‚Äî ‚Äú–º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä—É—Å—Å–∫–∏–π‚Äù
      const prev = factRu.textContent;
      factRu.textContent = "–®—ë–ø–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –∑–≤—ë–∑–¥–Ω–æ–π –ø—ã–ª–∏‚Ä¶";
      factRu.classList.remove('error');
      factRu.classList.add('shimmer');

      try{
        // 1) –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–∫—Ç (EN)
        const res = await fetch('https://catfact.ninja/fact', { cache: "no-store" });
        if(!res.ok) throw new Error("API down");
        const data = await res.json();
        const fact = data.fact || "";

        // 2) –ü–µ—Ä–µ–≤–æ–¥–∏–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º RU (EN –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∫—Ä—ã—Ç—ã–º)
        try{
          const ru = await translateToRussian(fact);
          factRu.classList.remove('shimmer');
          factRu.textContent = ru;
          factEn.textContent = fact; // –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π —Ö—Ä–∞–Ω—ë–º –æ—Ä–∏–≥–∏–Ω–∞–ª
        }catch(trErr){
          factRu.classList.remove('shimmer');
          factRu.classList.add('error');
          factRu.textContent = "–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –≤–æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª: " + fact;
          // –ú–æ–∂–Ω–æ —Å–Ω—è—Ç—å —Å–∫—Ä—ã—Ç–∏–µ, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —è–≤–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å EN:
          // factEn.classList.remove('visually-hidden'); factEn.setAttribute('aria-hidden','false');
        }

      }catch(e){
        factRu.classList.remove('shimmer');
        factRu.classList.add('error');
        factRu.textContent = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–∫—Ç.";
      }finally{
        btn.disabled = false;
        btn.classList.remove('loading');
        btn.setAttribute('aria-busy','false');
      }
    }

    btn.addEventListener('click', getCatFactInRussian);
  </script>
</body>
</html>
